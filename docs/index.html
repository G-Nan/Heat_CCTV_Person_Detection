<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Normal/Infrared CCTV Videos</title>
    <style>
        .video-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .video-box {
            width: 48%;
            margin-bottom: 20px;
        }
        .description, .extra-description, .main-description {
            margin-top: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
        }
        .centered-title {
            text-align: center;
            margin-bottom: 40px; /* Add margin to create space */
        }
        .extra-description {
            margin: 40px 0; /* Add margin to create space */
            padding: 10px;
            background-color: #e0e0e0;
            border: 1px solid #bbb;
        }
        .main-title {
            text-align: center;
            font-size: 3em; /* Increase font size */
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1 class="main-title">AI4U - SCV Service (Smart Capture Vision)</h1>
    <div class="main-description">
        <p>본 서비스는 일반 CCTV와 적외선 CCTV 영상을 사용하여 화질 개선 및 객체 탐지를 수행하는 과정을 시연합니다. <br>
		각 영상은 편의를 위해 서비스의 성능을 잘 나타낼 수 있는 동영상을 업로드하여 시범 중입니다. <br>
		실제 서비스에서는 CCTV에서 촬영되는 영상을 실시간으로 확인하여 화질 개선과 객체 탐지를 수행할 수 있습니다.</p>
    </div>

    <h1 class="centered-title">Denoising with Normal/Infrared CCTV Videos</h1>
    <div class="video-container">
        <div class="video-box">
            <h2>Denoising with Normal Video</h2>
            <video id="video3" width="100%" muted loop>
                <source src="video/CCTV_Detection_Real_Half.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video-box">
            <h2>Denoising with Infrared Video</h2>
            <video id="video4" width="100%" muted loop>
                <source src="video/CCTV_Detection_Thermal_Half.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <div class="extra-description">
        <h2>Explanation of Denoising Process</h2>
        <p>각 영상의 중앙을 기점으로 왼쪽은 Noise가 존재하는 저화질의 영상, 오른쪽은 Noise를 제거한 고화질의 영상입니다. <br>
		영상의 크기가 작은 경우 잘 구분되지 않으므로 화면의 크기를 키워주시면 감사하겠습니다.</p>
    </div>

    <h1 class="centered-title">Object Detection with Normal/Infrared CCTV Videos</h1>
    <div class="video-container">
        <div class="video-box">
            <h2>Object Detection with Normal CCTV</h2>
            <video id="video1" width="100%" muted loop>
                <source src="video/CCTV_Detection_Real_Processed.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video-box">
            <h2>Object Detection with Infrared CCTV</h2>
            <video id="video2" width="100%" muted loop>
                <source src="video/CCTV_Detection_Thermal_Processed.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>
    <div class="description">
        <h2>Explanation of Detection Process</h2>
        <p>왼쪽의 경우 수풀이나 군복, 위장복(길리슈트)의 영향으로 정확한 탐지가 안되는 반면 오른쪽의 경우 환경에 관계없이 정확하게 탐지를 하는 모습을 보여줍니다. <br>
		영상의 후반부를 갈 수록 더 명확한 비교가 가능하니 영상의 마지막까지 기다려주시면 감사하겠습니다. (영상의 길이는 총 2분 22초 입니다.)</p>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        var video1 = document.getElementById('video1');
        var video2 = document.getElementById('video2');
        var video3 = document.getElementById('video3');
        var video4 = document.getElementById('video4');

        var videosLoaded = 0;

        // Check if all videos are loaded
        function checkAndPlayVideos() {
            if (videosLoaded === 4) {
                video1.play();
                video2.play();
                video3.play();
                video4.play();
            }
        }

        // Event listener for when each video is loaded
        video1.oncanplaythrough = function() {
            videosLoaded += 1;
            checkAndPlayVideos();
        };

        video2.oncanplaythrough = function() {
            videosLoaded += 1;
            checkAndPlayVideos();
        };

        video3.oncanplaythrough = function() {
            videosLoaded += 1;
            checkAndPlayVideos();
        };

        video4.oncanplaythrough = function() {
            videosLoaded += 1;
            checkAndPlayVideos();
        };

        // Sync play and pause
        function syncPlay() {
            if (video1.paused) video1.play();
            if (video2.paused) video2.play();
            if (video3.paused) video3.play();
            if (video4.paused) video4.play();
        }

        function syncPause() {
            if (!video1.paused) video1.pause();
            if (!video2.paused) video2.pause();
            if (!video3.paused) video3.pause();
            if (!video4.paused) video4.pause();
        }

        // Reset and replay videos when any of them ends
        function resetAndReplay() {
            video1.currentTime = 0;
            video2.currentTime = 0;
            video3.currentTime = 0;
            video4.currentTime = 0;
            video1.play();
            video2.play();
            video3.play();
            video4.play();
        }

        video1.onended = resetAndReplay;
        video2.onended = resetAndReplay;
        video3.onended = resetAndReplay;
        video4.onended = resetAndReplay;

        video1.onplay = syncPlay;
        video2.onplay = syncPlay;
        video3.onplay = syncPlay;
        video4.onplay = syncPlay;

        video1.onpause = syncPause;
        video2.onpause = syncPause;
        video3.onpause = syncPause;
        video4.onpause = syncPause;
    });
    </script>
</body>
</html>
